<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <title>Editor Markdown BÃ¡sico</title>
    <link rel="stylesheet" href="css/main.css" />
</head>

<body>

    <!-- PANEL IZQUIERDO -->
    <div id="leftPanel">
        <h2>Editor Markdown</h2>
        <div class="app-version">v1.3.31</div>

        <div class="user-accordion">
            <button class="accordion-toggle" id="userAccordionToggle" type="button" aria-expanded="false">
                <span class="accordion-title">USUARIO</span>
                <span class="user-summary">
                    <span id="userStatusDot" class="status-dot" aria-hidden="true"></span>
                    <span id="userNameLabel">Sin sesiÃ³n</span>
                </span>
            </button>
            <div class="accordion-panel" id="userAccordionPanel" aria-hidden="true">
                <p id="userNoSessionMessage" class="auth-muted">
                    Inicia sesiÃ³n para ver y editar la informaciÃ³n del usuario.
                </p>
                <form id="userEditForm" class="user-edit-form">
                    <label>
                        Usuario
                        <input type="text" id="userEditName" autocomplete="off" />
                    </label>
                    <label>
                        Nueva contraseÃ±a
                        <input type="password" id="userEditPass" autocomplete="new-password" />
                    </label>
                    <p id="userEditStatus" class="status-message" role="status" aria-live="polite"></p>
                    <button type="submit" class="btn btn-primary">Guardar cambios</button>
                </form>
            </div>
        </div>

        <button class="btn" id="btnNuevo">ğŸ“ Nuevo</button>
        <button class="btn" id="btnPegarAuto">ğŸ“¥ Pegar</button>
        <button class="btn" id="btnCopiar">ğŸ“‹ Copiar Markdown</button>
        <button class="btn" id="btnDescargar">â¬‡ï¸ Descargar .md</button>
        <button class="btn" id="btnExportProyecto">ğŸ§¾ Exportar proyecto (JSON)</button>
        <button class="btn" id="btnImportProyecto">ğŸ“‚ Importar proyecto (JSON)</button>
        <button class="btn" id="btnGuardarProyecto">ğŸ’¾ Guardar proyecto</button>
        <button class="btn" id="btnExportCsv">ğŸ—‚ï¸ Exportar CSV</button>
        <hr>
    </div>

    <div id="loginModal" class="modal-overlay login-modal" aria-hidden="true">
        <div class="modal-card login-modal-card" role="dialog" aria-modal="true" aria-labelledby="loginModalTitle">
            <div class="modal-header">
                <h3 id="loginModalTitle">Iniciar sesiÃ³n</h3>
            </div>
            <form id="loginForm" class="modal-body login-modal-body">
                <label>
                    Usuario
                    <input type="text" id="loginUserInput" autocomplete="username" required />
                </label>
                <label>
                    ContraseÃ±a
                    <input type="password" id="loginPassInput" autocomplete="current-password" required />
                </label>
                <p id="loginStatus" class="status-message" role="status" aria-live="polite"></p>
                <div class="modal-actions">
                    <button type="submit" class="btn btn-primary">Ingresar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- ZONA CENTRAL -->
    <div id="mainArea">

        <h1 class="main-title">Ãrea principal: Editor Markdown</h1>

        <!-- TOOLBAR SUPERIOR -->
        <div id="toolbar" class="toolbar">
            <button data-md="bold"><b>B</b></button>
            <button data-md="italic"><i>I</i></button>
            <button data-md="underline"><u>U</u></button>

            <span class="separator"></span>

            <button data-md="h1">H1</button>
            <button data-md="h2">H2</button>

            <span class="separator"></span>

            <button data-md="ul">â€¢ Lista</button>
            <button data-md="ol">1. Lista</button>

            <span class="separator"></span>

            <button data-md="quote">â</button>
            <button data-md="code">{ }</button>

            <span class="separator"></span>
            <button data-md="table">ğŸ“Š Tabla</button>
            <button data-md="columns">ğŸ§± Doble columna</button>
            <button data-md="columnsMulti">ğŸ§± Doble columna multipÃ¡rrafo</button>
            <button id="toggleMiniMap" type="button" aria-pressed="false">ğŸ—ºï¸ Miniatura</button>
        </div>

        <!-- SOLO EDITOR MARKDOWN -->
        <div id="workContainer">
            <div id="lineNumbers" aria-hidden="true"></div>
            <textarea id="markdownText" spellcheck="false"></textarea>
        </div>

    </div>

    <script src="js/core/auth.js"></script>
    <script src="js/core/editormarkdown.js"></script>
    <script src="js/features/sections.js"></script>
    <script src="js/features/let.js"></script>
    <script src="js/features/definition.js"></script>
    <script src="js/features/tables.js"></script>
    <!-- === TESAURO: integraciÃ³n panel y gestor completo === -->
    <script src="js/tesauro/datatesauro_md.js"></script>
    <script src="js/tesauro/tesauromanager_md.js"></script>
    <!-- === FIN TESAURO === -->

    <button id="guideTrigger" class="guide-trigger" type="button">GUÃA</button>
    <script src="js/core/guide.js"></script>

</body>
</html>
